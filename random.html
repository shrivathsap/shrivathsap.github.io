---
---
<!DOCTYPE html>
<!-- empty yaml front matter so jekyll can parse liquid template below -->
<html lang="" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title></title>
		<script>
			//removing the home base url because post.url gives relative path
			s = location.href
			t = '/random.html'
			home = location.href.substring(0, s.length-t.length)
			var comingFromPost = document.referrer;
			comingFromPost = comingFromPost.substring(home.length, comingFromPost.length);
			var list_of_posts = [{%- for post in site.posts -%}
				"{{ post.url }}",
			{%- endfor -%}]
			// console.log(comingFromPost);
			// console.log(list_of_posts);
			//javascript has no way to just remove a specific item
			new_list = [];
			for(i=0; i<list_of_posts.length; i++){
				if(list_of_posts[i] != comingFromPost) new_list.push(list_of_posts[i]);
			}
			new_url = new_list[Math.floor(Math.random()*new_list.length)];
			location.replace(new_url)
		</script>
	</head>
	<body>

	</body>
</html>
